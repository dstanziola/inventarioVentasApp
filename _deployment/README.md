# Sistema de Inventario Copy Point S.A.

![Sistema de Inventario](https://img.shields.io/badge/Sistema-Inventario-blue)
![Versi√≥n](https://img.shields.io/badge/Versi√≥n-1.0.4-green)
![Estado](https://img.shields.io/badge/Estado-Activo-brightgreen)
![Python](https://img.shields.io/badge/Python-3.8+-blue)
![PyQt6](https://img.shields.io/badge/PyQt6-6.0+-orange)
![SQLite](https://img.shields.io/badge/SQLite-3.0+-yellow)

Sistema completo de gesti√≥n de inventario, ventas y reportes desarrollado especialmente para Copy Point S.A. Implementa funcionalidades cr√≠ticas para la administraci√≥n de productos, control de stock, procesamiento de ventas y generaci√≥n de reportes empresariales.

## üöÄ Caracter√≠sticas Principales

### ‚úÖ Gesti√≥n de Inventario
- **Productos y Servicios:** CRUD completo con categorizaci√≥n inteligente
- **Control de Stock:** Seguimiento en tiempo real con alertas autom√°ticas
- **Movimientos:** Registro detallado de entradas y salidas con trazabilidad
- **C√≥digos de Barras:** Integraci√≥n para lectura y generaci√≥n autom√°tica
- **Inventario F√≠sico:** Herramientas para conteos y ajustes

### ‚úÖ Sistema de Ventas
- **Punto de Venta:** Interfaz intuitiva para procesamiento r√°pido
- **Facturaci√≥n:** Generaci√≥n autom√°tica con c√°lculo de impuestos
- **Gesti√≥n de Clientes:** Base de datos integrada con historial
- **M√©todos de Pago:** Soporte para efectivo, tarjeta y cr√©dito
- **Devoluciones:** Proceso simplificado con trazabilidad completa

### ‚úÖ Reportes Empresariales
- **Reportes de Ventas:** An√°lisis por per√≠odo, producto y vendedor
- **Control de Inventario:** Stock actual, rotaci√≥n y valorizaci√≥n
- **An√°lisis Financiero:** Rentabilidad, m√°rgenes y tendencias
- **Exportaci√≥n:** PDF, Excel y CSV para an√°lisis externo
- **Dashboard:** M√©tricas en tiempo real y KPIs principales

### ‚úÖ Administraci√≥n y Seguridad
- **Usuarios y Roles:** Control granular de permisos (Admin/Vendedor)
- **Autenticaci√≥n:** Sistema seguro con encriptaci√≥n de passwords
- **Auditor√≠a:** Logs completos de todas las transacciones
- **Respaldos:** Sistema autom√°tico de backup y recuperaci√≥n
- **Configuraci√≥n:** Parametrizaci√≥n empresarial flexible

## üõ†Ô∏è Tecnolog√≠as Utilizadas

| Componente | Tecnolog√≠a | Versi√≥n | Prop√≥sito |
|------------|------------|---------|-----------|
| **Frontend** | PyQt6 | 6.0+ | Interfaz de usuario moderna |
| **Backend** | Python | 3.8+ | L√≥gica de negocio y servicios |
| **Base de Datos** | SQLite | 3.0+ | Almacenamiento local eficiente |
| **Reportes** | ReportLab | 4.0+ | Generaci√≥n de PDFs |
| **C√≥digos Barras** | python-barcode | 0.14+ | Lectura y generaci√≥n |
| **Exportaci√≥n** | openpyxl | 3.1+ | Archivos Excel |
| **Seguridad** | bcrypt | 4.0+ | Encriptaci√≥n de passwords |
| **Testing** | pytest | 7.0+ | Suite de pruebas automatizadas |

## üìã Requisitos del Sistema

### Requisitos M√≠nimos
- **Sistema Operativo:** Windows 10 (64-bit) o superior
- **Procesador:** Intel Core i3 o AMD equivalente
- **Memoria RAM:** 4 GB m√≠nimo (8 GB recomendado)
- **Espacio en Disco:** 2 GB libres para instalaci√≥n
- **Resoluci√≥n:** 1366x768 m√≠nimo (1920x1080 recomendado)
- **Conectividad:** Ethernet o Wi-Fi para actualizaciones

### Requisitos de Software
- **Python:** 3.8 o superior
- **pip:** Gestor de paquetes Python actualizado
- **Git:** Para control de versiones (opcional)

## üîß Instalaci√≥n y Configuraci√≥n

### Paso 1: Preparar el Entorno

```bash
# Verificar versi√≥n de Python
python --version

# Si no tienes Python 3.8+, desc√°rgalo desde python.org
# https://www.python.org/downloads/
```

### Paso 2: Clonar o Descargar el Proyecto

```bash
# Opci√≥n 1: Clonar con Git
git clone [URL_DEL_REPOSITORIO]
cd inventario_app2

# Opci√≥n 2: Descargar ZIP y extraer
# Descargar desde el repositorio y extraer en carpeta deseada
```

### Paso 3: Crear Entorno Virtual

```bash
# Crear entorno virtual
python -m venv venv

# Activar entorno virtual
# En Windows:
venv\Scripts\activate

# En Linux/Mac:
source venv/bin/activate
```

### Paso 4: Instalar Dependencias

```bash
# Instalar dependencias de producci√≥n
pip install -r requirements.txt

# Verificar instalaci√≥n
pip list
```

### Paso 5: Configurar Base de Datos

```bash
# Ejecutar script de inicializaci√≥n
python src/db/initialize_database.py

# Verificar creaci√≥n de base de datos
# Debe crearse el archivo inventario.db
```

### Paso 6: Configurar Variables de Entorno

```bash
# Copiar archivo de configuraci√≥n
cp .env.example .env

# Editar .env con tus configuraciones
# Variables principales:
# DB_PATH=inventario.db
# LOG_LEVEL=INFO
# BACKUP_INTERVAL=daily
```

### Paso 7: Ejecutar la Aplicaci√≥n

```bash
# Ejecutar aplicaci√≥n principal
python main.py

# O usar script de conveniencia
_run.bat    # En Windows
./run.sh    # En Linux/Mac
```

## üéØ Primeros Pasos

### Login Inicial
Al ejecutar la aplicaci√≥n por primera vez:

```
Usuario: admin
Password: admin123
```

**‚ö†Ô∏è IMPORTANTE:** Cambiar credenciales por defecto inmediatamente despu√©s del primer login.

### Configuraci√≥n Inicial

1. **Configurar Empresa**
   - Ir a: `Configuraci√≥n > Datos de Empresa`
   - Completar informaci√≥n fiscal y de contacto

2. **Crear Categor√≠as**
   - Ir a: `Inventario > Categor√≠as`
   - Crear categor√≠as principales: Material, Servicio, etc.

3. **Configurar Impuestos**
   - Ir a: `Configuraci√≥n > Impuestos`
   - Configurar tasas de IVA seg√∫n normativa local

4. **Crear Usuarios**
   - Ir a: `Administraci√≥n > Usuarios`
   - Crear usuarios vendedor con permisos espec√≠ficos

### Flujo B√°sico de Trabajo

1. **Agregar Productos**
   ```
   Inventario > Productos > Nuevo Producto
   - Completar informaci√≥n b√°sica
   - Asignar categor√≠a
   - Definir precios de compra y venta
   - Establecer stock m√≠nimo/m√°ximo
   ```

2. **Registrar Entrada de Inventario**
   ```
   Inventario > Movimientos > Nueva Entrada
   - Seleccionar productos
   - Ingresar cantidad recibida
   - Confirmar movimiento
   ```

3. **Procesar Venta**
   ```
   Ventas > Nueva Venta
   - Agregar productos al carrito
   - Seleccionar cliente (opcional)
   - Procesar pago
   - Imprimir factura
   ```

4. **Generar Reportes**
   ```
   Reportes > [Tipo de Reporte]
   - Seleccionar per√≠odo
   - Configurar filtros
   - Exportar en formato deseado
   ```

## üîí Usuarios y Permisos

### Rol Administrador
- **Acceso completo** a todas las funcionalidades
- Gesti√≥n de usuarios y configuraci√≥n del sistema
- Acceso a reportes financieros y de auditor√≠a
- Configuraci√≥n de par√°metros empresariales

### Rol Vendedor
- **Gesti√≥n de ventas** y procesamiento de pagos
- **Consulta de inventario** y stock disponible
- **Reportes b√°sicos** de ventas propias
- **Sin acceso** a configuraci√≥n cr√≠tica del sistema

### Seguridad
- Passwords encriptados con bcrypt y salt
- Sesiones con timeout autom√°tico
- Logs de auditor√≠a para todas las transacciones
- Respaldos autom√°ticos de base de datos

## üìä Funcionalidades Avanzadas

### C√≥digos de Barras
```python
# Generar c√≥digo de barras para producto
from src.services.barcode_service import BarcodeService

barcode_service = BarcodeService()
barcode_service.generate_barcode(product_id=123)
```

### Exportaci√≥n de Reportes
```python
# Exportar reporte a Excel
from src.services.report_service import ReportService

report_service = ReportService()
report_service.export_sales_report(
    start_date="2025-01-01",
    end_date="2025-01-31",
    format="excel"
)
```

### API REST (Opcional)
```bash
# Iniciar servidor API (si est√° habilitado)
python src/api/main.py

# Documentaci√≥n API disponible en:
# http://localhost:8000/docs
```

## üß™ Testing y Calidad

### Ejecutar Suite de Tests

```bash
# Ejecutar todos los tests
pytest

# Ejecutar tests con cobertura
pytest --cov=src --cov-report=html

# Ejecutar tests espec√≠ficos
pytest tests/test_basic_functionality.py

# Ver reporte de cobertura
# Abrir htmlcov/index.html en navegador
```

### Validaci√≥n de Calidad

```bash
# Verificar estilo de c√≥digo
flake8 src/

# Formatear c√≥digo autom√°ticamente
black src/

# Ordenar imports
isort src/

# Validar types (si configurado)
mypy src/
```

## üö® Troubleshooting Com√∫n

### Problema: Error al iniciar la aplicaci√≥n

**Error:** `ModuleNotFoundError: No module named 'PyQt6'`

**Soluci√≥n:**
```bash
# Verificar entorno virtual activado
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# Reinstalar dependencias
pip install --upgrade -r requirements.txt
```

### Problema: Base de datos corrupta

**Error:** `Database is locked` o errores SQLite

**Soluci√≥n:**
```bash
# Hacer backup de datos
cp inventario.db inventario_backup.db

# Reinicializar base de datos
python src/db/initialize_database.py --force

# Restaurar desde backup si es necesario
python src/db/restore_database.py inventario_backup.db
```

### Problema: Error de autenticaci√≥n

**Error:** `Authentication failed` con credenciales correctas

**Soluci√≥n:**
```bash
# Resetear password de admin
python src/scripts/reset_admin_password.py

# Verificar integridad de usuarios
python src/scripts/verify_users.py
```

### Problema: Interfaz no responde

**Error:** Aplicaci√≥n se congela o no responde

**Soluci√≥n:**
```bash
# Verificar logs de error
cat logs/application.log

# Ejecutar en modo debug
python main.py --debug

# Limpiar archivos temporales
rm -rf temp/*
rm -rf __pycache__/
```

### Problema: Reportes no se generan

**Error:** `PDF generation failed` o archivos vac√≠os

**Soluci√≥n:**
```bash
# Verificar permisos de escritura
ls -la reports/

# Verificar dependencias de reportes
pip install --upgrade reportlab openpyxl

# Probar generaci√≥n manual
python src/scripts/test_reports.py
```

## üìÅ Estructura del Proyecto

```
inventario_app2/
‚îú‚îÄ‚îÄ src/                      # C√≥digo fuente principal
‚îÇ   ‚îú‚îÄ‚îÄ db/                   # Capa de datos
‚îÇ   ‚îú‚îÄ‚îÄ services/             # Servicios de negocio
‚îÇ   ‚îú‚îÄ‚îÄ ui/                   # Interfaz de usuario
‚îÇ   ‚îú‚îÄ‚îÄ models/               # Modelos de datos
‚îÇ   ‚îú‚îÄ‚îÄ reports/              # Sistema de reportes
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # Utilidades generales
‚îú‚îÄ‚îÄ tests/                    # Suite de pruebas
‚îú‚îÄ‚îÄ docs/                     # Documentaci√≥n t√©cnica
‚îú‚îÄ‚îÄ logs/                     # Archivos de log
‚îú‚îÄ‚îÄ backups/                  # Respaldos autom√°ticos
‚îú‚îÄ‚îÄ data/                     # Datos del sistema
‚îú‚îÄ‚îÄ config/                   # Archivos de configuraci√≥n
‚îú‚îÄ‚îÄ requirements.txt          # Dependencias Python
‚îú‚îÄ‚îÄ .env                      # Variables de entorno
‚îú‚îÄ‚îÄ pytest.ini               # Configuraci√≥n tests
‚îî‚îÄ‚îÄ main.py                   # Punto de entrada
```

## üîÑ Respaldos y Mantenimiento

### Respaldos Autom√°ticos
- **Frecuencia:** Diario a las 2:00 AM
- **Ubicaci√≥n:** `backups/` con timestamp
- **Retenci√≥n:** 30 d√≠as autom√°tico
- **Formato:** SQLite comprimido + logs

### Respaldo Manual
```bash
# Crear respaldo inmediato
python src/scripts/create_backup.py

# Restaurar desde respaldo espec√≠fico
python src/scripts/restore_backup.py backup_2025-07-21.zip
```

### Mantenimiento de Base de Datos
```bash
# Optimizar base de datos
python src/scripts/optimize_database.py

# Verificar integridad
python src/scripts/check_integrity.py

# Limpiar logs antiguos
python src/scripts/cleanup_logs.py --days=30
```

## üìà Performance y Escalabilidad

### M√©tricas de Performance
- **Transacciones:** 1000+ por d√≠a soportadas
- **Usuarios concurrentes:** Hasta 20 usuarios
- **Tiempo de respuesta:** < 2 segundos promedio
- **Base de datos:** Hasta 100,000 productos
- **Reportes:** Generaci√≥n < 30 segundos

### Optimizaciones
- √çndices autom√°ticos en consultas frecuentes
- Cache en memoria para datos frecuentes
- Paginaci√≥n en listados grandes
- Compresi√≥n autom√°tica de respaldos
- Limpieza autom√°tica de archivos temporales

## ü§ù Soporte y Contacto

### Soporte T√©cnico
- **Email:** soporte.inventario@copypoint.com
- **Tel√©fono:** +507 XXX-XXXX
- **Horario:** Lunes a Viernes, 8:00 AM - 5:00 PM

### Reportar Bugs
1. Verificar en troubleshooting si hay soluci√≥n conocida
2. Revisar logs en `logs/application.log`
3. Crear reporte con:
   - Descripci√≥n del problema
   - Pasos para reproducir
   - Logs relevantes
   - Versi√≥n del sistema

### Solicitar Funcionalidades
- Enviar propuesta detallada por email
- Incluir justificaci√≥n empresarial
- Especificar urgencia y criticidad
- Proporcionar casos de uso espec√≠ficos

## üìú Licencia y Copyright

```
Copyright (c) 2025 Copy Point S.A.
Todos los derechos reservados.

Este software es propiedad de Copy Point S.A. y est√° protegido por 
leyes de derechos de autor. Su uso est√° restringido al personal 
autorizado de la empresa.

Prohibida la distribuci√≥n, modificaci√≥n o uso comercial sin 
autorizaci√≥n expresa por escrito.
```

## üîÑ Historial de Versiones

### v1.0.4 (2025-07-21) - ACTUAL
- ‚úÖ Correcci√≥n bugs cr√≠ticos de autenticaci√≥n
- ‚úÖ Implementaci√≥n suite testing funcional b√°sico
- ‚úÖ Mejoras en documentaci√≥n t√©cnica
- ‚úÖ Optimizaciones de performance

### v1.0.3 (2025-07-19)
- ‚úÖ Refactorizaci√≥n sistema de passwords
- ‚úÖ Integraci√≥n completa de servicios
- ‚úÖ Documentaci√≥n arquitectura Clean

### v1.0.2 (2025-07-19)
- ‚úÖ Implementaci√≥n backlog completo de funcionalidades
- ‚úÖ Metodolog√≠a TDD establecida
- ‚úÖ Framework de testing implementado

### v1.0.1 (2025-07-19)
- ‚úÖ Completar instrucciones Claude AI v2.0
- ‚úÖ Optimizaci√≥n flujo de desarrollo
- ‚úÖ Validaci√≥n est√°ndares de calidad

### v1.0.0 (2025-07-17)
- ‚úÖ Lanzamiento inicial del sistema
- ‚úÖ Funcionalidades core implementadas
- ‚úÖ Documentaci√≥n t√©cnica completa
- ‚úÖ Pol√≠ticas de seguridad empresariales

---

**Sistema de Inventario Copy Point S.A.**  
*Desarrollado con tecnolog√≠a Python + PyQt6*  
*√öltima actualizaci√≥n: 2025-07-21*